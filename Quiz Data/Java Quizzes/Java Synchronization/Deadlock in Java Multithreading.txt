INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('Deadlock in Java Multithreading', 'What describes a "Deadlock" in a Java multithreaded application?', 'A state where a thread runs continuously, starving other threads of CPU time.', 'A situation where two or more threads are blocked forever, each waiting for a resource (monitor lock) held by the other.', 'An exception thrown when a thread attempts to acquire a lock it already holds.', 'A scenario where the JVM runs out of memory and crashes.', 'B', 'Deadlock occurs when multiple threads are indefinitely blocked because they are engaged in a cyclical dependency, each waiting to acquire a lock currently held by another thread in the cycle.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('Deadlock in Java Multithreading', 'According to the Coffman conditions, which of the following is NOT a necessary condition for a deadlock to occur?', 'Mutual Exclusion', 'Hold and Wait', 'Preemption', 'Circular Wait', 'C', 'The four necessary conditions for deadlock are Mutual Exclusion, Hold and Wait, No Preemption (resources cannot be forcibly taken away), and Circular Wait. If preemption is allowed, deadlocks can be broken.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('Deadlock in Java Multithreading', 'Consider Thread A acquiring Lock 1 then Lock 2, and Thread B acquiring Lock 2 then Lock 1. What is the most effective architectural strategy to prevent a deadlock in this scenario?', 'Use the ''volatile'' keyword on both lock objects.', 'Ensure both threads acquire the locks in the exact same global order (e.g., always Lock 1 then Lock 2).', 'Increase the thread priority of Thread A.', 'Wrap the lock acquisitions in a try-catch block.', 'B', 'Lock ordering is a primary deadlock prevention technique. If all threads uniformly request resources in the same hierarchical sequence, a circular wait condition cannot form, thereby making deadlocks mathematically impossible.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('Deadlock in Java Multithreading', 'Which method from the ''java.util.concurrent.locks.Lock'' interface is specifically designed to help avoid deadlocks by attempting to acquire a lock without waiting indefinitely?', 'lock()', 'lockInterruptibly()', 'tryLock()', 'await()', 'C', 'The ''tryLock()'' method attempts to acquire the lock and returns immediately with a boolean indicating success or failure. By using ''tryLock()'' with a timeout, a thread can back off and release its currently held resources if it fails to acquire all needed locks, preventing a permanent deadlock.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('Deadlock in Java Multithreading', 'Which standard JDK diagnostic tool is typically used to capture a "Thread Dump" to analyze and detect if deadlocked threads exist in a running JVM?', 'jmap', 'jhat', 'jstack', 'javac', 'C', 'The ''jstack'' utility generates a thread dump of a running Java process. It analyzes the thread states and monitor locks, explicitly printing a "Found one Java-level deadlock:" warning if a cyclic lock dependency is detected.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('Deadlock in Java Multithreading', 'What happens if a thread holding a synchronized intrinsic lock throws an unchecked RuntimeException?', 'The lock remains held forever, causing a deadlock.', 'The thread is paused until the exception is handled.', 'The lock is automatically released by the JVM as the thread exits the synchronized block.', 'The JVM immediately shuts down.', 'C', 'If an exception occurs within a synchronized block, the JVM automatically releases the monitor lock associated with that block as the thread unwinds the call stack. It does not cause a deadlock.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'What is the absolute primary architectural guarantee provided by the `finally` block in C#?', 'It ensures that any exception thrown is safely logged to the console.', 'It guarantees execution of its code block after the `try` and `catch` blocks complete, regardless of whether an exception was thrown, making it the standard for resource cleanup.', 'It prevents exceptions from bubbling up to the global application handler.', 'It forces the application to retry the `try` block if an error occurs.', 'B', 'The `finally` block is designed for deterministic cleanup (closing files, releasing database connections, freeing memory). The CLR guarantees it will execute after the `try` block finishes, whether the `try` block succeeded perfectly or threw an exception.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'Is it syntactically valid in C# to have a `try` block followed immediately by a `finally` block, completely omitting any `catch` blocks?', 'No, a `try` block must always have at least one `catch` block.', 'Yes, but the compiler will issue a severe warning.', 'Yes, a `try-finally` structure is perfectly valid and is used when you want to ensure resource cleanup without actually handling or swallowing the exception.', 'No, the `finally` block can only be used if an exception is caught.', 'C', 'A `try-finally` block is a common and valid pattern. It allows an exception to freely propagate up the call stack to be handled by higher-level logic, while strictly ensuring that local resources (like an open file stream) are closed locally before the error bubbles up.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'What happens if you attempt to place a `return` statement directly inside a `finally` block in C#?', 'The method returns that value, overriding any return value from the `try` or `catch` blocks.', 'The compiler throws a CS0157 error: "Control cannot leave the body of a finally clause."', 'The program compiles, but throws an InvalidOperationException at runtime.', 'The `return` statement is ignored, and execution continues normally.', 'B', 'C# strictly forbids control transfer statements (`return`, `break`, `continue`, or `goto`) from exiting a `finally` block. The compiler enforces this rule to ensure the predictable, uninterrupted flow of the cleanup execution phase.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'If a `try` block contains a valid `return` statement (e.g., `return true;`), when does the associated `finally` block execute?', 'It executes immediately after the method returns control to the caller.', 'It executes immediately before the `return` statement transfers control back to the calling method.', 'It does not execute at all because the `return` statement abruptly exits the method.', 'It executes simultaneously on a separate background thread.', 'B', 'Even if a `try` or `catch` block executes a `return` statement, the CLR intercepts the return, pauses the exit, executes the `finally` block to completion, and then finally allows the method to pass the return value back to the caller.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'Which highly common C# keyword is actually syntactic sugar that the compiler automatically translates into a `try-finally` block under the hood?', 'The `lock` keyword', 'The `using` keyword', 'The `yield` keyword', 'Both `lock` and `using`', 'D', 'Both `using` (for IDisposable objects) and `lock` (for thread synchronization) are syntactic sugar. The C# compiler automatically expands them into `try-finally` blocks. For `using`, the `finally` block calls `.Dispose()`. For `lock`, the `finally` block calls `Monitor.Exit()`.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'In which of the following catastrophic scenarios is a `finally` block NOT guaranteed to execute in modern .NET?', 'When a NullReferenceException is thrown.', 'When an unhandled exception propagates past the `Main` method.', 'When a StackOverflowException occurs or `Environment.FailFast()` is called.', 'When a ThreadAbortException is triggered.', 'C', 'While `finally` is highly reliable, it is bypassed during process-corrupting catastrophic failures. In modern .NET, a `StackOverflowException`, an `ExecutionEngineException`, or a direct call to `Environment.FailFast()` will terminate the process instantly without unwinding the stack or running `finally` blocks.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'If code inside a `catch` block throws a brand new exception, what happens to the execution of the `finally` block?', 'The `finally` block is bypassed, and the new exception immediately bubbles up.', 'The `finally` block still executes to completion before the new exception is allowed to propagate up the call stack.', 'The program crashes immediately with a DoubleFault exception.', 'The `finally` block executes, but only if it does not contain any complex logic.', 'B', 'The execution guarantee of the `finally` block remains absolute. Even if a `catch` block fails and throws a new exception, the CLR will suspend that new exception, execute the `finally` block, and then resume propagating the new exception upward.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Finally Keyword', 'Can you have multiple `finally` blocks attached to a single `try` statement?', 'Yes, you can have one `finally` block for each `catch` block.', 'Yes, but they must execute in reverse order.', 'No, a `try` statement can have zero or one `finally` block, but never more than one.', 'Yes, provided they are marked with different access modifiers.', 'C', 'Structurally, a `try` block can be followed by multiple `catch` blocks (to handle different exception types), but it can only ever be finalized by a single `finally` block at the end of the chain.');
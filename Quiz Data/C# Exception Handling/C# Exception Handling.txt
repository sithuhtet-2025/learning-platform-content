INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'What is the primary architectural purpose of a `try` block in C#?', 'To test if a variable is null before using it.', 'To enclose a block of code that is expected to potentially throw an exception during execution.', 'To retry a failed database connection automatically.', 'To bypass compile-time syntax checking.', 'B', 'The `try` block acts as a protective boundary. It encloses code that might generate an exception (a runtime error), allowing the runtime environment to monitor that specific block and gracefully hand off control to a corresponding `catch` block if a failure occurs.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'What is the fundamental execution guarantee of a `finally` block in a `try-catch-finally` structure?', 'It only executes if an exception was successfully caught.', 'It executes only if no exceptions were thrown in the try block.', 'It always executes regardless of whether an exception was thrown, caught, or unhandled, making it the ideal place for critical resource cleanup.', 'It executes infinitely until the error is resolved.', 'C', 'The `finally` block is guaranteed to run after the `try` and `catch` blocks finish. It is the architectural standard for deterministic cleanup operations, such as closing file streams, database connections, or releasing network sockets, ensuring resources are freed even if a catastrophic error occurs.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'When you catch an exception and need to pass it further up the call stack, what is the critical difference between using `throw;` versus `throw ex;`?', '`throw;` is a syntax error; you must specify the exception variable.', '`throw;` preserves the original stack trace showing exactly where the error originated, while `throw ex;` resets the stack trace to the current line, destroying vital debugging context.', '`throw ex;` logs the error automatically, while `throw;` does not.', 'There is no functional difference; they compile to the exact same IL code.', 'B', 'Using `throw ex;` is a common but severe anti-pattern in C#. It re-throws the exception as if it originated on that exact line inside the catch block, completely wiping out the history of the original method that caused the failure. `throw;` preserves the original stack trace intact.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'If a single `try` block is followed by multiple `catch` blocks designed to handle different exception types, what strict ordering rule must the C# compiler enforce?', 'They must be ordered alphabetically by Exception name.', 'They must be ordered from the most general exception type (like System.Exception) down to the most specific.', 'They must be ordered from the most specific exception type down to the most general, base exception type.', 'The order does not matter; the CLR checks them all simultaneously.', 'C', 'Catch blocks must be ordered from most derived (specific) to least derived (general). The CLR evaluates catch blocks top-to-bottom and enters the first one that matches the exception type. If a general `Exception` catch block is placed at the top, it will swallow all errors, making the specific catch blocks below it unreachable (which results in a compiler error).');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'Introduced in C# 6.0, how does the `when` keyword enhance exception handling?', 'It allows you to specify a time delay before the exception is thrown.', 'It applies an "exception filter", allowing a catch block to only execute if a specific boolean condition evaluates to true.', 'It replaces the `catch` keyword entirely.', 'It automatically retries the try block when an exception occurs.', 'B', 'Exception filters (e.g., `catch (HttpException ex) when (ex.StatusCode == 404)`) allow you to conditionally catch an exception based on its properties. If the condition is false, the exception simply continues bubbling up the stack without the costly overhead of entering the catch block and re-throwing it.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'What is the primary purpose of the `InnerException` property on a System.Exception object?', 'It stores the local variables that were active when the exception occurred.', 'It holds a reference to the inner block of the `try` statement.', 'It holds a reference to a previous exception that directly caused the current exception, allowing developers to wrap low-level errors in higher-level, more meaningful context.', 'It prevents the exception from being caught by generic catch blocks.', 'C', 'When catching a low-level error (like a SqlException) and throwing a more abstract business-logic error (like a UserNotFoundException), developers pass the original exception into the constructor of the new one. This populates the `InnerException` property, preserving the complete chain of failures for debugging.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'According to modern .NET architectural design guidelines, which base class should you inherit from when creating your own custom exception classes?', 'System.SystemException', 'System.ApplicationException', 'System.Exception', 'System.CustomError', 'C', 'Historically, developers were told to inherit from `ApplicationException`, but this guidance was abandoned early in the .NET lifecycle. Modern best practices strictly dictate that all custom exceptions should inherit directly from the `System.Exception` base class (or a more specific existing exception like `InvalidOperationException`).');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# Exception Handling', 'Which of the following scenarios is an inappropriate, anti-pattern use of Exceptions in C#?', 'Handling a failure to connect to an external SQL database.', 'Throwing an exception when a method receives a null argument it cannot process.', 'Using a try-catch block to control normal, expected program flow (e.g., checking if a user has enough account balance by throwing an InsufficientFunds error during a routine transaction check).', 'Catching an exception to log it, then re-throwing it with `throw;`.', 'C', 'Exceptions are extremely heavy on CPU and memory resources because they must capture the entire stack trace. Using exceptions for normal control flow (often called "Exception-Driven Logic") causes severe performance degradation. Business logic should use standard conditional statements (`if/else`) for expected scenarios.');
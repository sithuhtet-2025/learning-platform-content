INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'What is the primary architectural purpose of the `FileStream` class in C#?', 'To parse and query XML documents.', 'To serialize C# objects into JSON format.', 'To provide a stream for file operations, allowing synchronous and asynchronous reading and writing of raw byte arrays directly to and from the file system.', 'To compress and encrypt text files automatically.', 'C', 'The `FileStream` class operates at the byte level. It acts as a direct pipeline to the operating system''s file system, allowing you to read or write raw binary data, which can then be wrapped by higher-level classes like StreamReader or BinaryWriter.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'When instantiating a `FileStream`, which `FileMode` enumeration value dictates that the operating system should open an existing file, but strictly throw a `FileNotFoundException` if the file does not already exist?', 'FileMode.CreateNew', 'FileMode.OpenOrCreate', 'FileMode.Append', 'FileMode.Open', 'D', '`FileMode.Open` explicitly requires the target file to exist. If it is missing, the CLR throws an exception, making it the safest mode when your logic absolutely depends on pre-existing data.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'If your C# application opens a `FileStream` to write continuous log entries, how can you authorize other external applications (like Notepad or a log viewer) to simultaneously open and read the file without triggering an "access denied / file in use" exception?', 'By setting `FileAccess.ReadWrite`.', 'By passing the `FileShare.Read` flag during the `FileStream` instantiation.', 'By using the `Unlock()` method after every write.', 'It is impossible; a FileStream strictly locks the file exclusively.', 'B', 'The `FileShare` enumeration controls concurrent access. By passing `FileShare.Read` when creating the stream, you instruct the OS file lock manager to permit other processes to open the file for reading while your application holds it open for writing.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'Because `FileStream` directly wraps unmanaged operating system file handles, what architectural pattern must be strictly enforced to prevent severe resource leaks and permanent file locks?', 'The stream must be instantiated on a background thread.', 'The stream object must be assigned to `null` after use.', 'The stream must be wrapped in a `using` block or have its `Dispose()` method explicitly called in a `finally` block.', 'The application must call `GC.Collect()` after the stream is closed.', 'C', 'Unmanaged resources (like OS file handles) are not immediately reclaimed by the .NET Garbage Collector. Failing to explicitly `Dispose()` of a `FileStream` (usually handled automatically by a `using` statement) will leave the file locked, crashing any subsequent attempts to access it.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'Which method is used to manually move the current read/write byte pointer to a specific location within an active `FileStream`?', 'SetPosition()', 'MoveTo()', 'Seek()', 'Skip()', 'C', 'The `Seek(long offset, SeekOrigin origin)` method allows developers to jump to specific byte locations within the file. You can seek relative to the `Begin`, `Current` position, or `End` of the stream, making it highly efficient for binary file parsing.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'Why is it critical to understand the `Flush()` method when writing data to a `FileStream`?', 'It clears the console output window.', 'It physically deletes the file from the hard drive.', 'It resets the stream''s position pointer back to zero.', '`FileStream` temporarily stores written data in an internal memory buffer for performance; `Flush()` forces this buffer to immediately write its contents to the physical disk.', 'D', 'Disk I/O is very slow. To optimize performance, `FileStream` buffers byte writes in RAM. If the application crashes before the buffer fills up or the stream is properly closed, data is lost. `Flush()` forces an immediate physical write to the disk.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'If you intend to open a file and exclusively add new data to the very end without overwriting any existing content, which combination of FileMode and FileAccess should you use?', 'FileMode.Open with FileAccess.Write', 'FileMode.Create with FileAccess.ReadWrite', 'FileMode.Append with FileAccess.Write', 'FileMode.OpenOrCreate with FileAccess.Read', 'C', '`FileMode.Append` is specifically designed to seek to the absolute end of the file automatically upon opening. It can only be used in conjunction with `FileAccess.Write`, throwing an exception if read access is attempted.');

INSERT INTO Quizzes (LessonTitle, QuestionText, OptionA, OptionB, OptionC, OptionD, CorrectAnswer, Explanation) VALUES 
('C# FileStream', 'To prevent UI freezing or thread blocking in high-performance applications when reading massive multi-gigabyte files, which method should be invoked on the `FileStream`?', 'Read() inside a lock statement.', 'ReadAsync()', 'BeginRead()', 'ReadBlock()', 'B', 'Modern C# architecture relies heavily on asynchronous I/O. Using `await stream.ReadAsync(...)` offloads the blocking disk operation, freeing up the calling thread to handle other tasks (like rendering UI or processing web requests) while the OS retrieves the data.');